<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backlog Velocity Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    <style>
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
            }
            50% {
                box-shadow: 0 0 30px rgba(59, 130, 246, 0.6);
            }
        }
        
        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }
            100% {
                background-position: 1000px 0;
            }
        }
        
        .animate-slide-in {
            animation: slideInUp 0.6s ease-out forwards;
            opacity: 0;
        }
        
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.2);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .gradient-border {
            position: relative;
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(135deg, #667eea 0%, #764ba2 100%) border-box;
            border: 2px solid transparent;
        }
        
        .status-badge {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        .progress-bar {
            transition: width 1s ease-out;
        }
        
        .metric-icon {
            transition: transform 0.3s ease;
        }
        
        .card-hover:hover .metric-icon {
            transform: rotate(10deg) scale(1.1);
        }
        
        @keyframes countUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .count-animate {
            animation: countUp 0.5s ease-out;
        }
        
        .shimmer-bg {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }

        .tab-button {
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: slideInUp 0.4s ease-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen">
    <div class="w-full min-h-screen p-6 md:p-8">
        <div class="max-w-7xl mx-auto">
            <!-- Header with Live Status -->
            <div class="mb-8 animate-slide-in" style="animation-delay: 0.1s;">
                <div class="flex items-center justify-between flex-wrap gap-4">
                    <div>
                        <h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2">
                            Backlog Velocity Dashboard
                        </h1>
                        <p class="text-slate-600 text-lg">Team performance metrics and backlog health analysis</p>
                    </div>
                    <div class="flex flex-col items-end gap-2">
                        <div class="flex items-center gap-3 glass-effect px-4 py-2 rounded-full">
                            <div class="w-2 h-2 bg-green-500 rounded-full status-badge"></div>
                            <span class="text-sm font-medium text-slate-700">Live</span>
                        </div>
                        <div class="text-xs text-slate-500">
                            Updated: <span id="lastUpdatedDate">February 11, 2026</span> at <span id="lastUpdatedTime">10:28 AM</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation to Historical Dashboard -->
            <div class="mb-6 animate-slide-in" style="animation-delay: 0.12s;">
                <a href="historical_dashboard.html" class="inline-flex items-center gap-2 glass-effect px-6 py-3 rounded-xl font-semibold text-indigo-600 hover:text-indigo-800 shadow-lg card-hover">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    View Historical Trends
                </a>
            </div>

            <!-- Tab Navigation -->
            <div class="mb-8 glass-effect rounded-2xl shadow-lg p-2 animate-slide-in" style="animation-delay: 0.12s;">
                <div class="flex flex-wrap gap-2">
                    <button class="tab-button active flex-1 min-w-fit px-6 py-3 rounded-xl font-semibold" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);">
                        <span class="flex items-center justify-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                            </svg>
                            Current Sprint: RSE 26Q1-S2
                        </span>
                    </button>
                </div>
            </div>

                <!-- Main Metric Cards -->
                <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center animate-slide-in" style="animation-delay: 0.15s;">
                    <span class="w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full mr-3"></span>
                    Key Performance Metrics
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- Backlog Card -->
                    <a href="#" id="backlogLink" class="glass-effect rounded-2xl shadow-xl p-6 card-hover cursor-pointer animate-slide-in" style="animation-delay: 0.2s;">
                        <div class="flex items-center justify-between mb-4">
                            <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-3 rounded-xl w-14 h-14 flex items-center justify-center metric-icon shadow-lg">
                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                                </svg>
                            </div>
                            <div class="w-12 h-1 bg-gradient-to-r from-blue-400 to-transparent rounded-full"></div>
                        </div>
                        <div class="count-animate">
                            <div class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent mb-1" data-counter="150">0</div>
                            <div class="text-sm text-slate-700 font-semibold mb-1">Current Backlog</div>
                            <div class="text-xs text-slate-500 mb-3">open items</div>
                        </div>
                        <div class="flex items-center text-xs text-blue-600 font-medium group-hover:text-blue-700">
                            <span>View in Jira</span>
                            <svg class="w-3 h-3 ml-1 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                            </svg>
                        </div>
                    </a>

                    <!-- Velocity Card -->
                    <a href="#" id="velocityLink" class="glass-effect rounded-2xl shadow-xl p-6 card-hover cursor-pointer animate-slide-in" style="animation-delay: 0.3s;">
                        <div class="flex items-center justify-between mb-4">
                            <div class="bg-gradient-to-br from-green-500 to-emerald-600 text-white p-3 rounded-xl w-14 h-14 flex items-center justify-center metric-icon shadow-lg">
                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                </svg>
                            </div>
                            <div class="relative inline-block group">
                                <svg class="w-5 h-5 text-slate-400 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <div class="absolute right-0 top-8 w-80 p-4 bg-slate-800 text-white text-sm rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                    <p class="font-semibold mb-2">What is Average Velocity?</p>
                                    <p class="mb-2">The average number of issues completed per sprint over the last 6 sprints.</p>
                                    <p class="text-xs text-slate-300">This metric helps track team capacity and predict future sprint completion rates.</p>
                                </div>
                            </div>
                        </div>
                        <div class="count-animate">
                            <div class="text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-800 bg-clip-text text-transparent mb-1" data-counter="65">0</div>
                            <div class="text-sm text-slate-700 font-semibold mb-1">Average Velocity</div>
                            <div class="text-xs text-slate-500 mb-3">points/sprint</div>
                        </div>
                        <div class="flex items-center text-xs text-green-600 font-medium">
                            <span>View in Jira</span>
                            <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                            </svg>
                        </div>
                    </a>

                    <!-- Contamination Card -->
                    <a href="#" id="contaminationLink" class="glass-effect rounded-2xl shadow-xl p-6 card-hover cursor-pointer animate-slide-in" style="animation-delay: 0.4s;">
                        <div class="flex items-center justify-between mb-4">
                            <div class="bg-gradient-to-br from-orange-500 to-amber-600 text-white p-3 rounded-xl w-14 h-14 flex items-center justify-center metric-icon shadow-lg">
                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                            </div>
                            <div class="relative inline-block group">
                                <svg class="w-5 h-5 text-slate-400 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <div class="absolute right-0 top-8 w-80 p-4 bg-slate-800 text-white text-sm rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                    <p class="font-semibold mb-2">What is Sprint Contamination?</p>
                                    <p class="mb-2">The percentage of issues in the current sprint that were created more than 14 days before the sprint started.</p>
                                    <p class="text-xs text-slate-300">High contamination indicates work carried over from previous sprints rather than newly planned items.</p>
                                </div>
                            </div>
                        </div>
                        <div class="count-animate">
                            <div class="text-4xl font-bold bg-gradient-to-r from-orange-600 to-amber-800 bg-clip-text text-transparent mb-1" data-counter="27.7" data-decimal="true">0</div>
                            <div class="text-sm text-slate-700 font-semibold mb-1">Sprint Contamination</div>
                            <div class="text-xs text-slate-500 mb-3">carryover rate</div>
                        </div>
                        <div class="flex items-center text-xs text-orange-600 font-medium">
                            <span>View in Jira</span>
                            <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                            </svg>
                        </div>
                    </a>

                    <!-- Zombie Issues Card -->
                    <a href="#" id="zombieLink" class="glass-effect rounded-2xl shadow-xl p-6 card-hover cursor-pointer animate-slide-in" style="animation-delay: 0.5s;">
                        <div class="flex items-center justify-between mb-4">
                            <div class="bg-gradient-to-br from-purple-500 to-violet-600 text-white p-3 rounded-xl w-14 h-14 flex items-center justify-center metric-icon shadow-lg">
                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <div class="relative inline-block group">
                                <svg class="w-5 h-5 text-slate-400 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <div class="absolute right-0 top-8 w-80 p-4 bg-slate-800 text-white text-sm rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                    <p class="font-semibold mb-2">What are Zombie Issues?</p>
                                    <p class="mb-2">Issues in the backlog that haven't been updated in 90+ days.</p>
                                    <p class="text-xs text-slate-300">These items may be stale, blocked, or no longer relevant and should be reviewed for closure or re-prioritization.</p>
                                </div>
                            </div>
                        </div>
                        <div class="count-animate">
                            <div class="text-4xl font-bold bg-gradient-to-r from-purple-600 to-violet-800 bg-clip-text text-transparent mb-1" data-counter="52">0</div>
                            <div class="text-sm text-slate-700 font-semibold mb-1">Zombie Issues</div>
                            <div class="text-xs text-slate-500 mb-3">90+ days old</div>
                        </div>
                        <div class="flex items-center text-xs text-purple-600 font-medium">
                            <span>View in Jira</span>
                            <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                            </svg>
                        </div>
                    </a>
                </div>

                <!-- Monthly Churn Rate Section -->
                <div class="mt-8 glass-effect rounded-2xl shadow-xl p-6 md:p-8 animate-slide-in" style="animation-delay: 0.6s;">
                    <h2 class="text-2xl font-bold text-slate-800 mb-2 flex items-center">
                        <span class="w-1 h-8 bg-gradient-to-b from-red-500 to-orange-500 rounded-full mr-3"></span>
                        Monthly Churn Rate Analysis
                        <div class="relative inline-block ml-2 group">
                            <svg class="w-5 h-5 text-slate-400 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <div class="absolute left-0 top-8 w-80 p-4 bg-slate-800 text-white text-sm rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                <p class="font-semibold mb-2">What is Monthly Churn Rate?</p>
                                <p class="mb-2">The percentage of resolved issues this month that were closed without completing the intended work.</p>
                                <p class="text-xs text-slate-300">Includes: Duplicates (avoided work), Not Needed (wasted effort), and Won't Do (deprioritized items)</p>
                            </div>
                        </div>
                    </h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-6">
                        <div>
                            <h3 class="text-lg font-semibold text-slate-700 mb-4">Resolution Breakdown</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200 hover:shadow-md transition-shadow">
                                    <span class="font-medium text-slate-700">Done</span>
                                    <span class="text-2xl font-bold text-green-600">69</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-200 hover:shadow-md transition-shadow">
                                    <span class="font-medium text-slate-700">Duplicate</span>
                                    <span class="text-2xl font-bold text-blue-600">0</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gradient-to-r from-amber-50 to-yellow-50 rounded-xl border border-amber-200 hover:shadow-md transition-shadow">
                                    <span class="font-medium text-slate-700">Not Needed</span>
                                    <span class="text-2xl font-bold text-amber-600">0</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gradient-to-r from-red-50 to-rose-50 rounded-xl border border-red-200 hover:shadow-md transition-shadow">
                                    <span class="font-medium text-slate-700">Won't Do</span>
                                    <span class="text-2xl font-bold text-red-600">1</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gradient-to-r from-slate-100 to-slate-200 rounded-xl border-2 border-slate-400 shadow-md">
                                    <span class="font-bold text-slate-800">Grand Total</span>
                                    <span class="text-2xl font-bold text-slate-800">70</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-slate-700 mb-4">Churn Metrics</h3>
                            <div class="space-y-4">
                                <div class="p-6 bg-gradient-to-br from-red-50 via-orange-50 to-amber-50 rounded-xl border-2 border-red-300 shadow-lg">
                                    <div class="text-sm text-slate-600 mb-2 font-medium">Monthly Churn Rate</div>
                                    <div class="text-5xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent mb-2">1.4%</div>
                                    <div class="text-xs text-slate-600">1 churned items out of 70 total</div>
                                </div>
                                <div class="p-5 bg-slate-50 rounded-xl border border-slate-200">
                                    <div class="text-sm font-semibold text-slate-700 mb-3">Churn Categories:</div>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between items-center">
                                            <span class="text-slate-600">Duplicate (avoided work)</span>
                                            <span class="font-semibold text-blue-600">0 (0.0%)</span>
                                        </div>
                                        <div class="w-full bg-slate-200 rounded-full h-1.5">
                                            <div class="bg-blue-500 h-1.5 rounded-full progress-bar" style="width: 0.0%;"></div>
                                        </div>
                                        <div class="flex justify-between items-center pt-2">
                                            <span class="text-slate-600">Not Needed (wasted effort)</span>
                                            <span class="font-semibold text-amber-600">0 (0.0%)</span>
                                        </div>
                                        <div class="w-full bg-slate-200 rounded-full h-1.5">
                                            <div class="bg-amber-500 h-1.5 rounded-full progress-bar" style="width: 0.0%;"></div>
                                        </div>
                                        <div class="flex justify-between items-center pt-2">
                                            <span class="text-slate-600">Won't Do (deprioritized)</span>
                                            <span class="font-semibold text-red-600">1 (1.4%)</span>
                                        </div>
                                        <div class="w-full bg-slate-200 rounded-full h-1.5">
                                            <div class="bg-red-500 h-1.5 rounded-full progress-bar" style="width: 1.4%;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-5 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-200 shadow-md">
                                    <div class="text-sm text-slate-600 mb-2 font-medium">Completion Rate</div>
                                    <div class="text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">98.6%</div>
                                    <div class="text-xs text-slate-600 mt-1">69 successfully completed</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Grid -->
                <h2 class="text-2xl font-bold text-slate-800 mb-6 mt-8 flex items-center animate-slide-in" style="animation-delay: 0.65s;">
                    <span class="w-1 h-8 bg-gradient-to-b from-green-500 to-emerald-500 rounded-full mr-3"></span>
                    Recent Sprint Analysis
                </h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="glass-effect rounded-2xl shadow-xl p-6 animate-slide-in" style="animation-delay: 0.7s;">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center">
                            <span class="w-1 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full mr-2"></span>
                            Sprint Velocity: Planned vs Completed
                        </h3>
                        <div style="position: relative; height: 300px;">
                            <canvas id="sprintVelocityChart"></canvas>
                        </div>
                    </div>

                    <div class="glass-effect rounded-2xl shadow-xl p-6 animate-slide-in" style="animation-delay: 0.8s;">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center">
                            <span class="w-1 h-6 bg-gradient-to-b from-purple-500 to-violet-500 rounded-full mr-2"></span>
                            Issue Age Distribution
                        </h3>
                        <div style="position: relative; height: 300px;">
                            <canvas id="ageDistributionChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Status Breakdown -->
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center animate-slide-in" style="animation-delay: 1.0s;">
                        <span class="w-1 h-8 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full mr-3"></span>
                        Current Sprint Breakdown
                    </h2>
                    
                    <!-- Summary Stats -->
                    <h3 class="text-lg font-semibold text-slate-700 mb-4 animate-slide-in" style="animation-delay: 1.02s;">Sprint Summary</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 animate-slide-in" style="animation-delay: 1.05s;">
                        <div class="glass-effect rounded-xl shadow-lg p-5 text-center card-hover">
                            <div class="text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent" data-counter="59">0</div>
                            <div class="text-xs text-slate-600 font-medium mt-1">Total Issues</div>
                        </div>
                        <div class="glass-effect rounded-xl shadow-lg p-5 text-center card-hover">
                            <div class="text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent" data-counter="74.4" data-decimal="true">0</div>
                            <div class="text-xs text-slate-600 font-medium mt-1">Completion Rate</div>
                        </div>
                        <div class="glass-effect rounded-xl shadow-lg p-5 text-center card-hover">
                            <div class="text-3xl font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent" data-counter="7">0</div>
                            <div class="text-xs text-slate-600 font-medium mt-1">In Progress</div>
                        </div>
                        <div class="glass-effect rounded-xl shadow-lg p-5 text-center card-hover">
                            <div class="text-3xl font-bold bg-gradient-to-r from-purple-600 to-violet-600 bg-clip-text text-transparent" data-counter="45">0</div>
                            <div class="text-xs text-slate-600 font-medium mt-1">To Do</div>
                        </div>
                    </div>
                    
                    <h3 class="text-lg font-semibold text-slate-700 mb-4 animate-slide-in" style="animation-delay: 1.08s;">Status Distribution</h3>
                    <div class="glass-effect rounded-2xl shadow-xl p-6 animate-slide-in" style="animation-delay: 1.1s;">
                        <div style="position: relative; height: 300px;">
                            <canvas id="statusChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Automation Metrics -->
                <div class="mt-8 animate-slide-in" style="animation-delay: 1.3s;">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                        <span class="w-1 h-8 bg-gradient-to-b from-amber-500 to-orange-500 rounded-full mr-3"></span>
                        Automation Metrics
                        <span class="ml-3 px-3 py-1 text-xs font-semibold bg-amber-100 text-amber-800 rounded-full">Data Collection in Progress</span>
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="glass-effect rounded-2xl shadow-lg p-6 border-2 border-dashed border-slate-300 relative overflow-hidden">
                            <div class="absolute top-0 left-0 w-full h-1 shimmer-bg"></div>
                            <div class="absolute top-2 right-2">
                                <span class="px-3 py-1 text-xs font-semibold bg-amber-100 text-amber-800 rounded-full">Coming Soon</span>
                            </div>
                            <div class="mt-2">
                                <h4 class="text-lg font-semibold text-slate-700 mb-2">Priority Change Count</h4>
                                <p class="text-sm text-slate-500 mb-4">Number of times priorities were changed</p>
                                <div class="flex items-center justify-center h-20 bg-slate-50 rounded-xl">
                                    <div class="text-center">
                                        <div class="text-4xl font-bold text-slate-300">--</div>
                                        <div class="text-xs text-slate-400 mt-1">No data yet</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="glass-effect rounded-2xl shadow-lg p-6 border-2 border-dashed border-slate-300 relative overflow-hidden">
                            <div class="absolute top-0 left-0 w-full h-1 shimmer-bg"></div>
                            <div class="absolute top-2 right-2">
                                <span class="px-3 py-1 text-xs font-semibold bg-amber-100 text-amber-800 rounded-full">Coming Soon</span>
                            </div>
                            <div class="mt-2">
                                <h4 class="text-lg font-semibold text-slate-700 mb-2">Estimate Change Count</h4>
                                <p class="text-sm text-slate-500 mb-4">Number of story point re-estimations</p>
                                <div class="flex items-center justify-center h-20 bg-slate-50 rounded-xl">
                                    <div class="text-center">
                                        <div class="text-4xl font-bold text-slate-300">--</div>
                                        <div class="text-xs text-slate-400 mt-1">No data yet</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="glass-effect rounded-2xl shadow-lg p-6 border-2 border-dashed border-slate-300 relative overflow-hidden">
                            <div class="absolute top-0 left-0 w-full h-1 shimmer-bg"></div>
                            <div class="absolute top-2 right-2">
                                <span class="px-3 py-1 text-xs font-semibold bg-amber-100 text-amber-800 rounded-full">Coming Soon</span>
                            </div>
                            <div class="mt-2">
                                <h4 class="text-lg font-semibold text-slate-700 mb-2">Contamination Source</h4>
                                <p class="text-sm text-slate-500 mb-4">Origin sprint of carried-over work</p>
                                <div class="flex items-center justify-center h-20 bg-slate-50 rounded-xl">
                                    <div class="text-center">
                                        <div class="text-4xl font-bold text-slate-300">--</div>
                                        <div class="text-xs text-slate-400 mt-1">No data yet</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="glass-effect rounded-2xl shadow-lg p-6 border-2 border-dashed border-slate-300 relative overflow-hidden">
                            <div class="absolute top-0 left-0 w-full h-1 shimmer-bg"></div>
                            <div class="absolute top-2 right-2">
                                <span class="px-3 py-1 text-xs font-semibold bg-amber-100 text-amber-800 rounded-full">Coming Soon</span>
                            </div>
                            <div class="mt-2">
                                <h4 class="text-lg font-semibold text-slate-700 mb-2">Refinement Date Count</h4>
                                <p class="text-sm text-slate-500 mb-4">Issues refined per sprint</p>
                                <div class="flex items-center justify-center h-20 bg-slate-50 rounded-xl">
                                    <div class="text-center">
                                        <div class="text-4xl font-bold text-slate-300">--</div>
                                        <div class="text-xs text-slate-400 mt-1">No data yet</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
    // CONFIGURATION
    var JIRA_CONFIG = {
        baseUrl: 'https://toyotaresearchinstitute.atlassian.net',
        backlogFilter: '/issues/?filter=12974&atlOrigin=eyJpIjoiYzY2MjlhNDZmYmVjNDMyZThlZTEyNTA4N2MwYzdhMmUiLCJwIjoiaiJ9',
        velocityReport: '/jira/software/c/projects/TRI/boards/17/reports/velocity?atlOrigin=eyJpIjoiODQxOWZiZDI5ZjEyNGZlYmIyNmRlM2I2NzZhOWY0ZjciLCJwIjoiaiJ9',
        contaminationFilter: '/issues/?filter=12733&atlOrigin=eyJpIjoiMmZmZjgwMGI3YWU2NDRhZjg4NGE2NTk2MDFiNjI4ZjYiLCJwIjoiaiJ9',
        zombieFilter: '/issues/?filter=12736&atlOrigin=eyJpIjoiMjljYjNlMzhjYTExNDQ3Mzk5ZGU3MDg4MDkwNzYxNDgiLCJwIjoiaiJ9'
    };

    // Tab switching function
    function switchTab(tabName) {
        // Hide all tabs
        document.querySelectorAll('.tab-content').forEach(function(tab) {
            tab.classList.remove('active');
        });
        
        // Remove active from all buttons
        document.querySelectorAll('.tab-button').forEach(function(btn) {
            btn.classList.remove('active');
        });
        
        // Show selected tab
        document.getElementById(tabName + '-tab').classList.add('active');
        
        // Add active to clicked button
        event.target.closest('.tab-button').classList.add('active');
    }

    // Sprint data
    var sprintDataWithDates = [
        { sprint: 'RSE 25Q4-S2', startDate: '2024-10-22', endDate: '2024-11-05', planned: 25, completed: 22, contamination: 12, jiraUrl: 'https://toyotaresearchinstitute.atlassian.net/secure/RapidBoard.jspa?rapidView=17&sprint=456' },
        { sprint: 'RSE 25Q4-S3', startDate: '2024-11-05', endDate: '2024-11-19', planned: 28, completed: 24, contamination: 14, jiraUrl: 'https://toyotaresearchinstitute.atlassian.net/secure/RapidBoard.jspa?rapidView=17&sprint=457' },
        { sprint: 'RSE 25Q4-S4', startDate: '2024-11-19', endDate: '2024-12-03', planned: 30, completed: 27, contamination: 10, jiraUrl: 'https://toyotaresearchinstitute.atlassian.net/secure/RapidBoard.jspa?rapidView=17&sprint=458' },
        { sprint: 'RSE 25Q4-S5', startDate: '2024-12-03', endDate: '2024-12-17', planned: 26, completed: 23, contamination: 15, jiraUrl: 'https://toyotaresearchinstitute.atlassian.net/secure/RapidBoard.jspa?rapidView=17&sprint=459' },
        { sprint: 'RSE 25Q4-S6', startDate: '2024-12-17', endDate: '2024-12-31', planned: 32, completed: 29, contamination: 9, jiraUrl: 'https://toyotaresearchinstitute.atlassian.net/secure/RapidBoard.jspa?rapidView=17&sprint=460' },
        { sprint: 'RSE 26Q1-S1', startDate: '2024-12-31', endDate: '2025-01-14', planned: 35, completed: 31, contamination: 11, jiraUrl: 'https://toyotaresearchinstitute.atlassian.net/secure/RapidBoard.jspa?rapidView=17&sprint=461' }
    ];

    // Historical data (12 months) - will be updated by Python script
    var historicalMonths = ['Feb 25', 'Mar 25', 'Apr 25', 'May 25', 'Jun 25', 'Jul 25', 'Aug 25', 'Sep 25', 'Oct 25', 'Nov 25', 'Dec 25', 'Jan 26'];
    var historicalChurnData = [5.2, 4.8, 3.9, 4.5, 3.2, 4.1, 5.0, 3.8, 4.2, 3.5, 4.7, 3.7];
    var historicalContaminationData = [15, 13, 11, 14, 10, 12, 16, 11, 12, 14, 9, 11];
    var historicalVelocityData = [22, 24, 20, 25, 23, 27, 22, 24, 27, 23, 29, 31];
    var historicalZombieData = [45, 48, 52, 50, 47, 49, 53, 51, 48, 50, 52, 51];

    // Counter animation function
    function animateCounter(el) {
        var target = parseFloat(el.dataset.counter);
        var isDecimal = el.dataset.decimal === 'true';
        var duration = 1500;
        var start = 0;
        var startTime = null;
        
        function update(currentTime) {
            if (!startTime) startTime = currentTime;
            var progress = (currentTime - startTime) / duration;
            
            if (progress < 1) {
                var current = start + (target - start) * easeOutQuad(progress);
                el.textContent = isDecimal ? current.toFixed(1) + '%' : Math.floor(current);
                requestAnimationFrame(update);
            } else {
                el.textContent = isDecimal ? target.toFixed(1) + '%' : target;
            }
        }
        
        function easeOutQuad(t) {
            return t * (2 - t);
        }
        
        requestAnimationFrame(update);
    }

    // Update timestamp
    function updateTimestamp() {
        var now = new Date();
        var dateStr = now.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
        var timeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        document.getElementById('lastUpdatedDate').textContent = dateStr;
        document.getElementById('lastUpdatedTime').textContent = timeStr;
    }

    // Initialize progress bars with animation
    function animateProgressBars() {
        setTimeout(function() {
            var bars = document.querySelectorAll('.progress-bar');
            bars.forEach(function(bar) {
                var width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(function() {
                    bar.style.width = width;
                }, 100);
            });
        }, 500);
    }

    document.addEventListener('DOMContentLoaded', function() {
        updateTimestamp();
        
        // Update timestamp every minute
        setInterval(updateTimestamp, 60000);
        
        // Animate counters
        setTimeout(function() {
            document.querySelectorAll('[data-counter]').forEach(animateCounter);
        }, 300);
        
        // Animate progress bars
        animateProgressBars();
        
        // Configure Jira links
        document.getElementById('backlogLink').href = JIRA_CONFIG.baseUrl + JIRA_CONFIG.backlogFilter;
        document.getElementById('velocityLink').href = JIRA_CONFIG.baseUrl + JIRA_CONFIG.velocityReport;
        document.getElementById('contaminationLink').href = JIRA_CONFIG.baseUrl + JIRA_CONFIG.contaminationFilter;
        document.getElementById('zombieLink').href = JIRA_CONFIG.baseUrl + JIRA_CONFIG.zombieFilter;

        // Chart tooltip configuration
        var customTooltip = {
            callbacks: {
                afterLabel: function(context) {
                    var index = context.dataIndex;
                    var sprint = sprintDataWithDates[index];
                    if (sprint) {
                        return ['', sprint.startDate + ' to ' + sprint.endDate, 'Click to view in Jira'];
                    }
                    return '';
                }
            }
        };

        var sprintLabels = sprintDataWithDates.map(function(s) { return s.sprint; });
        
        // Sprint Velocity Chart
        new Chart(document.getElementById('sprintVelocityChart'), {
            type: 'bar',
            data: {
                labels: sprintLabels,
                datasets: [{
                    label: 'Planned',
                    data: sprintDataWithDates.map(function(s) { return s.planned; }),
                    backgroundColor: 'rgba(147, 197, 253, 0.8)',
                    borderColor: 'rgba(59, 130, 246, 1)',
                    borderWidth: 2,
                    borderRadius: 6
                }, {
                    label: 'Completed',
                    data: sprintDataWithDates.map(function(s) { return s.completed; }),
                    backgroundColor: 'rgba(59, 130, 246, 0.8)',
                    borderColor: 'rgba(37, 99, 235, 1)',
                    borderWidth: 2,
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    y: { 
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: { 
                    tooltip: customTooltip,
                    legend: { position: 'top' }
                },
                onClick: function(evt, activeEls) {
                    if (activeEls.length > 0) {
                        window.open(sprintDataWithDates[activeEls[0].index].jiraUrl, '_blank');
                    }
                }
            }
        });

        // Age Distribution Chart
        new Chart(document.getElementById('ageDistributionChart'), {
            type: 'bar',
            data: {
                labels: ['0-30 days', '31-90 days', '91-180 days', '181-365 days', '365+ days'],
                datasets: [{
                    label: 'Issues',
                    data: [35, 28, 22, 15, 28],
                    backgroundColor: [
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(59, 130, 246, 0.8)',
                        'rgba(245, 158, 11, 0.8)',
                        'rgba(239, 68, 68, 0.8)',
                        'rgba(124, 58, 237, 0.8)'
                    ],
                    borderColor: [
                        'rgba(16, 185, 129, 1)',
                        'rgba(59, 130, 246, 1)',
                        'rgba(245, 158, 11, 1)',
                        'rgba(239, 68, 68, 1)',
                        'rgba(124, 58, 237, 1)'
                    ],
                    borderWidth: 2,
                    borderRadius: 6
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    x: { 
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' }
                    },
                    y: {
                        grid: { display: false }
                    }
                },
                plugins: { legend: { display: false } },
                onClick: function(evt, activeEls) {
                    if (activeEls.length > 0) {
                        var jqlQueries = [
                            '/issues/?jql=created%20%3E%3D%20-30d%20AND%20status%20!%3D%20Done',
                            '/issues/?jql=created%20%3E%3D%20-90d%20AND%20created%20%3C%20-30d%20AND%20status%20!%3D%20Done',
                            '/issues/?jql=created%20%3E%3D%20-180d%20AND%20created%20%3C%20-90d%20AND%20status%20!%3D%20Done',
                            '/issues/?jql=created%20%3E%3D%20-365d%20AND%20created%20%3C%20-180d%20AND%20status%20!%3D%20Done',
                            JIRA_CONFIG.zombieFilter
                        ];
                        window.open(JIRA_CONFIG.baseUrl + jqlQueries[activeEls[0].index], '_blank');
                    }
                }
            }
        });

        // Status Chart
        new Chart(document.getElementById('statusChart'), {
            type: 'doughnut',
            data: {
                labels: ['Done', 'In Review', 'In Progress', 'To Do'],
                datasets: [{
                    data: [2, 5, 7, 45],
                    backgroundColor: [
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(59, 130, 246, 0.8)',
                        'rgba(245, 158, 11, 0.8)',
                        'rgba(148, 163, 184, 0.8)'
                    ],
                    borderColor: [
                        'rgba(16, 185, 129, 1)',
                        'rgba(59, 130, 246, 1)',
                        'rgba(245, 158, 11, 1)',
                        'rgba(148, 163, 184, 1)'
                    ],
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { 
                    legend: { 
                        position: 'bottom',
                        labels: {
                            padding: 15,
                            font: { size: 12 }
                        }
                    }
                },
                onClick: function(evt, activeEls) {
                    if (activeEls.length > 0) {
                        var statusQueries = [
                            '/issues/?jql=status%20%3D%20Done',
                            '/issues/?jql=status%20%3D%20%22In%20Review%22',
                            '/issues/?jql=status%20%3D%20%22In%20Progress%22',
                            '/issues/?jql=status%20%3D%20%22To%20Do%22'
                        ];
                        window.open(JIRA_CONFIG.baseUrl + statusQueries[activeEls[0].index], '_blank');
                    }
                }
            }
        });

        // Historical Churn Chart
        new Chart(document.getElementById('historicalChurnChart'), {
            type: 'line',
            data: {
                labels: historicalMonths,
                datasets: [{
                    label: 'Monthly Churn Rate (%)',
                    data: historicalChurnData,
                    borderColor: 'rgba(239, 68, 68, 1)',
                    backgroundColor: 'rgba(239, 68, 68, 0.1)',
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true,
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    pointBackgroundColor: 'rgba(239, 68, 68, 1)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        ticks: { callback: function(v) { return v + '%'; } }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: { legend: { position: 'top' } }
            }
        });

        // Historical Contamination Chart
        new Chart(document.getElementById('historicalContaminationChart'), {
            type: 'line',
            data: {
                labels: historicalMonths,
                datasets: [{
                    label: 'Sprint Contamination (%)',
                    data: historicalContaminationData,
                    borderColor: 'rgba(245, 158, 11, 1)',
                    backgroundColor: 'rgba(245, 158, 11, 0.1)',
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true,
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    pointBackgroundColor: 'rgba(245, 158, 11, 1)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        ticks: { callback: function(v) { return v + '%'; } }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: { legend: { position: 'top' } }
            }
        });

        // Historical Velocity Chart
        var rollingAvg = [];
        for (var i = 0; i < historicalVelocityData.length; i++) {
            var start = Math.max(0, i - 2);
            var slice = historicalVelocityData.slice(start, i + 1);
            var avg = slice.reduce(function(a, b) { return a + b; }, 0) / slice.length;
            rollingAvg.push(Math.round(avg));
        }

        new Chart(document.getElementById('historicalVelocityChart'), {
            type: 'line',
            data: {
                labels: historicalMonths,
                datasets: [{
                    label: 'Sprint Velocity',
                    data: historicalVelocityData,
                    borderColor: 'rgba(59, 130, 246, 1)',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true,
                    pointRadius: 5,
                    pointHoverRadius: 7
                }, {
                    label: '3-Sprint Rolling Average',
                    data: rollingAvg,
                    borderColor: 'rgba(16, 185, 129, 1)',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    borderDash: [5, 5],
                    borderWidth: 2,
                    tension: 0.4,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: { legend: { position: 'top' } }
            }
        });

        // Historical Zombie Issues Chart
        new Chart(document.getElementById('historicalZombieChart'), {
            type: 'line',
            data: {
                labels: historicalMonths,
                datasets: [{
                    label: 'Zombie Issues (90+ days)',
                    data: historicalZombieData,
                    borderColor: 'rgba(124, 58, 237, 1)',
                    backgroundColor: 'rgba(124, 58, 237, 0.1)',
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true,
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    pointBackgroundColor: 'rgba(124, 58, 237, 1)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: { legend: { position: 'top' } }
            }
        });
    });
    </script>
</body>
</html>